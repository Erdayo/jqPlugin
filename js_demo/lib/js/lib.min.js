(function(f){var b=function(g){this.defaults={"control":".control","btn_prev":".btn_prev","btn_next":".btn_next","interval":3000,"seamless":true};this.options=f.extend({},this.defaults,g)};f.fn.swipeBanner=function(j){var p=new b(j);var o=f(this).find(p.options.control);var k=f(this).find(p.options.btn_prev);var t=f(this).find(p.options.btn_next);var q=f(this).find("ol");var r=f(this).find("li");var l=r.width();var s=r.length;var i;var n=0;i=setInterval(h,p.options.interval);if(p.options.seamless){var m=r.eq(0).clone().removeClass("on");q.append(m)}function g(u){if(u>s-1&&!p.options.seamless){n=u=0}if(u<0&&!p.options.seamless){n=u=s-1}if(u>s&&p.options.seamless){n=u=1;q.css("margin-left",0)}if(u<0&&p.options.seamless){n=u=s-1;q.css("margin-left",-(s)*l)}if(u>s-1&&p.options.seamless){o.find("a").eq(0).addClass("on").siblings().removeClass("on")}q.stop().animate({"margin-left":-u*l},500);r.eq(u).addClass("on").siblings().removeClass("on");o.find("a").eq(u).addClass("on").siblings().removeClass("on")}function h(){n++;g(n)}f(this).hover(function(){clearInterval(i)},function(){i=setInterval(h,p.options.interval)});k.click(function(){n--;g(n)});t.click(function(){n++;g(n)});o.find("a").click(function(){var u=f(this).index();if(u==0&&p.options.seamless){n=s}else{n=u}g(n)})};f.fn.fadeBanner=function(j){var n=new b(j);var l=f(this).find(n.options.control);var k=f(this).find(n.options.btn_prev);var q=f(this).find(n.options.btn_next);var o=f(this).find("li");var p=o.length;var m=0;var i;i=setInterval(h,n.options.interval);function g(r){if(r>p-1){m=r=0}if(r<0){m=r=p-1}o.eq(r).stop().fadeIn().addClass("on").css({"opacity":1,"filter":"alpha(opacity=100)"}).siblings().removeClass("on");o.eq(r).prevAll().stop().fadeOut();o.eq(r).nextAll().stop().fadeIn();l.find("a").eq(r).addClass("on").siblings().removeClass("on")}function h(){m++;g(m)}f(this).hover(function(){clearInterval(i)},function(){i=setInterval(h,n.options.interval)});k.click(function(){m--;g(m)});q.click(function(){m++;g(m)});l.find("a").click(function(){var r=f(this).index();m=r;g(m)})};var e=function(g){this.defaults={"ratio":0.4,"animate":true,"speed":300};this.options=f.extend({},this.defaults,g)};f.fn.backTop=function(h){var g=new e(h);var i=f(this);f(window).scroll(function(){if(f(window).scrollTop()>=f(window).height()*g.options.ratio){i.show()}else{i.hide()}});i.click(function(){if(g.options.animate){f("body,html").animate({"scrollTop":0},g.options.speed)}if(!g.options.animate){f("body,html").scrollTop(0,0)}})};var d=function(g){this.defaults={"grade":1};this.options=f.extend({},this.defaults,g)};f.fn.navSelect=function(k){var l=new d(k);var n=window.location.href;var h=n.split("/")[l.options.grade+2];var m=f(this);var g=[];m.find("a").each(function(){var i=f(this)[0].href;i=i.split("/")[l.options.grade+2];g.push(i)});for(var j=0;j<g.length;j++){if(h==g[j]){m.find("a").eq(j).addClass("on").siblings().removeClass("on")}}};f.fn.addFavorite=function(h,g){return this.click(function(){var i=f(this);if(f.browser.msie){window.external.addFavorite(h,g)}else{alert("请使用Ctrl+D将本页加入收藏夹！")}})};f.fn.matchEmail=function(g){var h=/\w+[@]{1}\w+[.]\w+/;return h.test(g)};f.fn.matchPhone=function(g){var h=/(^1\d{10}$)|(^0\d{2,3}-?\d{7,8}$)/;return h.test(g)};f.fn.matchQQ=function(g){var h=/^\d{5,10}$/;return h.test(g)};f.fn.matchIdCard=function(g){var h=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return h.test(g)};f.fn.htmlToUbb=function(g){g=g.replace(/<br[^>]*>/ig,"\n");g=g.replace(/<p[^>\/]*\/>/ig,"\n");g=g.replace(/\son[\w]{3,16}\s?=\s*([\'\"]).+?\1/ig,"");g=g.replace(/<hr[^>]*>/ig,"[hr]");g=g.replace(/<(sub|sup|u|strike|b|i|pre)>/ig,"[$1]");g=g.replace(/<\/(sub|sup|u|strike|b|i|pre)>/ig,"[/$1]");g=g.replace(/<(\/)?strong>/ig,"[$1b]");g=g.replace(/<(\/)?em>/ig,"[$1i]");g=g.replace(/<(\/)?blockquote([^>]*)>/ig,"[$1blockquote]");g=g.replace(/<img[^>]*smile=\"(\d+)\"[^>]*>/ig,"[s:$1]");g=g.replace(/<img[^>]*src=[\'\"\s]*([^\s\'\"]+)[^>]*>/ig,"[img]"+"$1"+"[/img]");g=g.replace(/<a[^>]*href=[\'\"\s]*([^\s\'\"]*)[^>]*>(.+?)<\/a>/ig,"[url=$1]"+"$2"+"[/url]");g=g.replace(/<[^>]*?>/ig,"");g=g.replace(/&amp;/ig,"&");g=g.replace(/&lt;/ig,"<");g=g.replace(/&gt;/ig,">");return g};var a=function(g){this.defaults={"path":"./js/ZeroClipboard.swf","btnId":"btnId","linkId":"linkId","parentId":"parentId","setHandCursor":true,"successFunc":function(){console.info("Copied successfully!")},"failureFunc":function(){console.info("Replication Fails, not installed flash player , please install and restart the browser.")}};this.options=f.extend({},this.defaults,g)};f.fn.clipboardFunc=function(h){var k=new a(h);var g=false;f("#"+k.options.btnId).attr("data-isSuccess",g);if(!navigator.plugins.length<=0&&!navigator.plugins["Shockwave Flash"]){k.options.failureFunc();return true}var i=new ZeroClipboard(document.getElementById(k.options.btnId),{moviePath:k.options.path});i.setHandCursor(k.options.setHandCursor);i.on("complete",function(m,n){g=true;f("#"+k.options.btnId).attr("data-isSuccess",g);k.options.successFunc()
});var l=document.getElementById(k.options.linkId).value;if(l==undefined){l=document.getElementById(k.options.linkId).innerHTML}if(window.clipboardData){var j=document.getElementById(k.options.btnId);j.onclick=function(){window.clipboardData.setData("text",l);g=true;f("#"+k.options.btnId).attr("data-isSuccess",g);k.options.successFunc()}}};f.fn.judgeSystem=function(){var k="others";var i=navigator.userAgent.toLowerCase();var h=(navigator.platform=="Win32")||(navigator.platform=="Windows");var j=(navigator.platform=="Mac68K")||(navigator.platform=="MacPPC")||(navigator.platform=="Macintosh")||(navigator.platform=="MacIntel");var g=(navigator.platform=="X11")&&!h&&!j;var l=(String(navigator.platform).indexOf("Linux")>-1);if(h){if(i.indexOf("windows nt 5.0")!=-1){k="windows 2000"}if(i.indexOf("windows nt 5.1")!=-1){k="windows XP"}if(i.indexOf("windows nt 6.0")!=-1){k="windows Vista"}if(i.indexOf("windows nt 6.1")!=-1){k="windows 7"}if(i.indexOf("windows nt 6.2")!=-1){k="windows 8"}if(i.indexOf("windows nt 6.3")!=-1){k="windows 8.1"}if(i.indexOf("windows nt 6.4")!=-1||i.indexOf("windows nt 10.0")!=-1){k="windows 10"}}if(j){k="Mac"}if(g){k="Unix"}if(l){k="Linux"}return k};f.fn.judgeBrowser=function(){var g=navigator.userAgent.toLowerCase();var h="others";if(g.indexOf("chrome")!=-1){h="Chrome"}if(g.indexOf("firefox")!=-1){h="Firefox"}if(g.indexOf("opr")!=-1||g.indexOf("opera")!=-1){h="Opera"}if(g.indexOf("safari")!=-1&&g.indexOf("chrome")==-1){h="Safari"}if(g.indexOf("rv:11.0")!=-1){h="IE 11"}if(g.indexOf("msie 10.0")!=-1){h="IE 10"}if(g.indexOf("msie 9.0")!=-1){h="IE 9"}if(g.indexOf("msie 8.0")!=-1){h="IE 8"}if(g.indexOf("msie 7.0")!=-1){h="IE 7"}if(g.indexOf("msie 6.0")!=-1){h="IE 6"}return h};var c=function(g){this.defaults={"parent":"body","isOverflow":false};this.options=f.extend({},this.defaults,g)};f.fn.dragEle=function(i){var h=new c(i);var m=f(h.options.parent);var j=f(this);var k=m[0].clientWidth;var r=m[0].clientHeight;var q=j[0].clientWidth;var p=j[0].clientHeight;var l=j[0].offsetLeft;var s=j[0].offsetTop;var o,n;var g=false;j.on("mousedown",function(t){g=true;o=t.clientX;n=t.clientY;l=j[0].offsetLeft;s=j[0].offsetTop;document.onselectstart=function(){return false};f("html").css({"-moz-user-select":"none","-o-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"})});m.on("mousemove",function(u){if(!g){return true}var t=u.clientX-o+l;var v=u.clientY-n+s;if(!h.options.isOverflow){if(t>=k-q){t=k-q}if(t<=0){t=0}if(v>=r-p){v=r-p}if(v<=0){v=0}}j.css({"left":t,"top":v})});m.on("mouseup",function(){g=false;document.onselectstart=function(){return true};f("html").css({"-moz-user-select":"inherit","-o-user-select":"inherit","-khtml-user-select":"inherit","-webkit-user-select":"inherit","-ms-user-select":"inherit","user-select":"inherit"})})}})(jQuery);