<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    canvas {
        box-shadow: 0 0 1px black;
    }
</style>
<body>
<canvas id="canvas" width="1200" height="1800"></canvas>

<script>
    var c = document.getElementById('canvas'),
        ctx = c.getContext('2d');
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'black';
    //    ctx.strokeRect(10, 10, 150, 100);
    //
    //    // 放大 ==> x' = 3*x  y' = 3*y
    //    ctx.transform(3, 0, 0, 3, 0, 0);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'red';
    //    ctx.strokeRect(10, 10, 150, 100);
    //
    //    // 位移 ==> x' = x+50  y'= y+100
    //    ctx.transform(1, 0, 0, 1, 50, 100);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'blue';
    //    ctx.strokeRect(10, 10, 150, 100);
    //
    //    // 旋转 ==> x' = x*cos45° - y*sin45°  y' = x*sin45° + y*cos45°
    //    ctx.transform(Math.cos(45 * Math.PI / 180), Math.sin(45 * Math.PI / 180), -Math.sin(45 * Math.PI / 180), Math.cos(45 * Math.PI / 180), 0, 0);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'yellow';
    //    ctx.strokeRect(10, 10, 150, 100);
    //
    //    // 在上面旋转的基础上,再旋转10度即旋转了55度
    //    // ==> x' = x*cos10° - y*sin10°  y' = x*sin10° + y*cos10°
    //    ctx.transform(Math.cos(10 * Math.PI / 180), Math.sin(10 * Math.PI / 180), -Math.sin(10 * Math.PI / 180), Math.cos(10 * Math.PI / 180), 0, 0);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'green';
    //    ctx.strokeRect(10, 10, 150, 100);
    //
    //    // setTransform 可以清除之前的transform基础
    //    // ==> x' = x*cos10° - y*sin10°  y' = x*sin10° + y*cos10°
    //    ctx.setTransform(Math.cos(10 * Math.PI / 180), Math.sin(10 * Math.PI / 180), -Math.sin(10 * Math.PI / 180), Math.cos(10 * Math.PI / 180), 0, 0);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'purple';
    //    ctx.strokeRect(10, 10, 150, 100);
    //
    //    // 倾斜 ==> x' = x - 40/100*y + 40  y' = 10/150*x + y + 10
    //    ctx.setTransform(1, 10 / 150, -40 / 100, 1, 40, 10);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'grey';
    //    ctx.rect(50, 50, 150, 100);
    //    ctx.stroke();
    //
    //    // 倾斜2 ==> x' = 130/150*x - 20/100*y  y' = -20/150*x + 80/100*y
    //    ctx.setTransform(130 / 150, -20 / 150, -20 / 100, 80 / 100, 0, 0);
    //    ctx.beginPath();
    //    ctx.strokeStyle = 'lightskyblue';
    //    ctx.rect(50, 50, 150, 100);
    //    ctx.stroke();
    //    ctx.closePath();


    //
    var img = new Image();
    img.src = 'images/0.jpg';
    img.onload = function () {
        var s_x = img.naturalWidth * (1 / 3), s_y = 0;
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(s_x, s_y);
        ctx.lineTo(s_x + img.naturalWidth, s_y + img.naturalHeight * (1 / 6));
        ctx.lineTo(0, s_y + img.naturalHeight * (5 / 6));
//        ctx.stroke();
        ctx.closePath();
        ctx.clip();
        ctx.setTransform(1, 1 / 6, -1 / 3, 5 / 6, s_x, 0);
        ctx.drawImage(img, 0, 0);
        ctx.restore();

        ctx.save();
        ctx.beginPath();
        ctx.moveTo(s_x + img.naturalWidth, img.naturalHeight * (1/6));
        ctx.lineTo(0, s_y + img.naturalHeight * (5/6));
        ctx.lineTo(s_x + img.naturalWidth * (5/6), s_y + img.naturalHeight * (5/8));
//        ctx.stroke();
        ctx.closePath();
        ctx.clip();
        ctx.setTransform(5 / 6, -1/6, -1 / 2, 1/2, 0, img.naturalHeight * (5/6));
        ctx.drawImage(img, 0, s_y + -img.naturalHeight);
        ctx.restore();


//        ctx.save();
//        ctx.beginPath();
//        ctx.moveTo(100, 0);
//        ctx.lineTo(400, 50);
//        ctx.lineTo(0, 250);
//        ctx.stroke();
//        ctx.closePath();
//        ctx.clip();
//        ctx.setTransform(1, 1 / 6, -1 / 3, 5 / 6, 100, 0);
//        ctx.drawImage(img, 0, 0);
//        ctx.restore();
//
//        ctx.save();
//        ctx.beginPath();
//        ctx.moveTo(400, 50);
//        ctx.lineTo(0, 250);
//        ctx.lineTo(250, 187);
//        ctx.stroke();
//        ctx.closePath();
//        ctx.clip();
//        ctx.setTransform(5 / 6, -5 / 24, -1 / 2, 11 / 24, 0, 250);
//        ctx.drawImage(img, 0, -300);
//        ctx.restore();
    }


</script>
</body>
</html>